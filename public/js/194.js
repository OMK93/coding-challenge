"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[194],{6834:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(4015),s=t.n(r),o=t(3645),c=t.n(o)()(s());c.push([e.id,".order-summary[data-v-751f89d4]{background:#fff;border-radius:.25rem}.order-summary-title[data-v-751f89d4]{background:#5830c5;border-top-left-radius:.25rem;border-top-right-radius:.25rem;color:#fff}.order-item[data-v-751f89d4]{border-bottom:1px solid #000}.order-total[data-v-751f89d4]{background:#5830c5;color:#fff}.remove-product[data-v-751f89d4]{background:none;border:none;box-shadow:none}","",{version:3,sources:["webpack://./resources/js/components/OrderSummary.vue"],names:[],mappings:"AAoKA,gCACI,eAAiB,CACjB,oBACJ,CAEA,sCACI,kBAAmB,CAEnB,6BAA+B,CAC/B,8BAA+B,CAF/B,UAGJ,CAEA,6BACI,4BACJ,CAEA,8BACI,kBAAmB,CACnB,UACJ,CAEA,iCAEI,eAAgB,CADhB,WAAY,CAEZ,eACJ",sourcesContent:['<template>\n    \x3c!-- Success Message --\x3e\n    <div v-if="successMessage" class="alert alert-success d-flex justify-content-between" role="alert">\n        <div>\n            <i class="fas fa-check-circle fa-lg me-2"></i>\n            {{ successMessage }}\n        </div>\n\n        <button type="button" class="btn-close" @click="successMessage = null"></button>\n    </div>\n\n    \x3c!-- Validation Errors --\x3e\n    <div v-if="validationErrors.length" class="alert alert-danger d-flex justify-content-between" role="alert">\n        <ul>\n            <li v-for="(error, index) in validationErrors" :key="index">{{ error }}</li>\n        </ul>\n\n        <button type="button" class="btn-close" @click="validationErrors = []"></button>\n    </div>\n\n    \x3c!-- Customers List --\x3e\n    <b-card class="mb-3">\n        <label class="mb-1">Customer</label>\n        <b-form-select\n            v-model="selectedCustomer"\n            :options="customers"\n            class="mb-3"\n            value-field="id"\n            text-field="name"\n        ></b-form-select>\n    </b-card>\n\n    \x3c!-- Oder Summary --\x3e\n    <b-overlay :show="loading" rounded="sm">\n        <div class="d-flex flex-column order-summary">\n            <div class="px-4 py-3 order-summary-title">\n                <h3 class="mb-0">Order Summary</h3>\n            </div>\n\n            <div v-if="!order.products.length" class="d-flex align-items-center justify-content-center"\n                 style="height: 500px">\n                <h4 class="fw-bold">No products added.</h4>\n            </div>\n\n            <div v-else class="order-items p-4" style="height: 500px; overflow: auto">\n                <div v-for="(product, index) in order.products" :key="product.id"\n                     class="d-flex justify-content-between align-items-center py-3"\n                     :class="{\'order-item\': notLastIndex(index)}">\n\n                    <button class="me-3 btn-lg remove-product" @click="removeProduct(product)">\n                        <i class="fas fa-minus-circle text-danger"></i>\n                    </button>\n\n                    <div>\n                        <b-img :src="product.image"\n                               height="60"\n                               width="80"></b-img>\n                    </div>\n\n                    <div class="ms-4">\n                        <p class="mb-0">\n                            <strong>{{ product.qty }}</strong> x {{ product.name }}\n                        </p>\n                    </div>\n\n                    <div class="remove-item ms-auto">\n                        <strong>JOD {{ product.subTotal.toFixed(2) }}</strong>\n                    </div>\n                </div>\n            </div>\n\n            <div class="mt-auto">\n                <div class="d-flex justify-content-between px-4 py-3 mb-4 order-total">\n                    <h4 class="mb-0">Total</h4>\n                    <h4 class="mb-0">JOD {{ order.total }}</h4>\n                </div>\n\n                <div class="d-flex justify-content-between p-4 order-controls">\n                    <b-button variant="outline-danger" class="text-uppercase px-xl-5 py-xl-2"\n                              :disabled="!order.products.length" @click="clearOrder">Cancel\n                        Order\n                    </b-button>\n                    <b-button variant="success" class="text-uppercase px-xl-5 py-xl-2" :disabled="!order.products.length"\n                              @click="submitOrder">Place Order\n                    </b-button>\n                </div>\n            </div>\n\n        </div>\n    </b-overlay>\n\n</template>\n\n<script>\nimport {mapGetters, mapMutations, mapActions} from \'vuex\';\n\nexport default {\n    data() {\n        return {\n            customers: [],\n            selectedCustomer: null,\n            loading: false,\n            successMessage: null,\n            validationErrors: []\n        };\n    },\n\n    computed: {\n        ...mapGetters({\n            order: \'order/order\'\n        })\n    },\n\n    watch: {\n        customers(value) {\n            this.selectedCustomer = value.find(customer => customer.default).id;\n        }\n    },\n\n    methods: {\n        ...mapMutations({\n            removeProduct: \'order/REMOVE_PRODUCT\',\n            clearOrder: \'order/CLEAR_ORDER\'\n        }),\n\n        ...mapActions({\n            placeOrder: \'order/placeOrder\'\n        }),\n\n        async submitOrder() {\n            this.loading = true;\n            this.successMessage = null;\n            this.validationErrors = [];\n\n            try {\n                const {data: {message}} = await this.placeOrder(this.selectedCustomer);\n                this.clearOrder();\n                this.successMessage = message;\n            } catch (error) {\n                const errors = error.response.data.errors;\n\n                Object.values(errors).forEach(error => {\n                    this.validationErrors.push(error.pop())\n                });\n\n            } finally {\n                this.loading = false;\n                window.scrollTo({top: 0, behavior: \'smooth\'});\n            }\n        },\n\n        notLastIndex(index) {\n            return index !== (this.order.products.length - 1);\n        }\n    },\n\n    async created() {\n        const {data: customers} = await axios.get(\'/api/customers\');\n        this.customers = customers;\n    }\n}\n<\/script>\n\n<style scoped>\n.order-summary {\n    background: white;\n    border-radius: 0.25rem\n}\n\n.order-summary-title {\n    background: #5830c5;\n    color: white;\n    border-top-left-radius: 0.25rem;\n    border-top-right-radius: 0.25rem\n}\n\n.order-item {\n    border-bottom: 1px solid black;\n}\n\n.order-total {\n    background: #5830c5;\n    color: white\n}\n\n.remove-product {\n    border: none;\n    background: none;\n    box-shadow: none;\n}\n</style>\n'],sourceRoot:""}]);const a=c},3707:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(4015),s=t.n(r),o=t(3645),c=t.n(o)()(s());c.push([e.id,".modal{display:block}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield;text-align:center}","",{version:3,sources:["webpack://./resources/js/components/ProductModal.vue"],names:[],mappings:"AAkFA,OACI,aACJ,CAEA,kEAEI,uBAAwB,CACxB,QACJ,CAEA,mBACI,yBAA0B,CAC1B,iBACJ",sourcesContent:['<template>\n    <div class="modal">\n        <div class="modal-dialog modal-lg">\n            <div class="modal-content">\n\n                <div class="modal-body">\n                    <div class="text-end mb-4">\n                        <button class="btn-close" @click="$emit(\'close\')"></button>\n                    </div>\n\n                    <div class="row px-3 pb-4">\n                        <div class="col-lg-5 mb-sm-4 mb-lg-0">\n                            <img class="img-fluid" :src="product.image" alt="product.name">\n                        </div>\n\n                        <div class="col-lg-7 ps-4">\n                            <h3>{{ product.name }}</h3>\n                            <h5 class="mb-4">{{ product.price }} JOD</h5>\n                            <p class="mb-5">{{ product.description }}</p>\n\n                            <div class="d-flex">\n                                <div class="input-group me-4" style="width: 30%">\n                                    <b-button size="sm" class="input-group-text" variant="secondary"\n                                              @click="decrementQty">\n                                        <i class="fas fa-minus"></i>\n                                    </b-button>\n                                    <input type="number" v-model="qty" class="form-control">\n                                    <b-button size="sm" class="input-group-text" variant="secondary" @click="qty++">\n                                        <i class="fas fa-plus"></i>\n                                    </b-button>\n                                </div>\n\n                                <div>\n                                    <b-button variant="primary" @click="addToOrder">\n                                        <i class="fas fa-plus"></i>&nbsp; Add To Order\n                                    </b-button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {mapMutations} from \'vuex\';\n\nexport default {\n    props: [\'product\'],\n\n    data() {\n        return {\n            qty: 1\n        };\n    },\n\n    methods: {\n        ...mapMutations({\n            addItem: \'order/ADD_PRODUCT\'\n        }),\n\n        decrementQty() {\n            if (this.qty === 1) return;\n\n            this.qty--;\n        },\n\n        addToOrder() {\n            this.addItem({\n                product: this.product,\n                qty: this.qty\n            });\n\n            this.$emit(\'close\');\n        }\n    }\n}\n<\/script>\n\n<style>\n.modal {\n    display: block;\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\ninput[type=number] {\n    -moz-appearance: textfield;\n    text-align: center;\n}\n</style>\n'],sourceRoot:""}]);const a=c},8690:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(4015),s=t.n(r),o=t(3645),c=t.n(o)()(s());c.push([e.id,".search-input[data-v-e45f8638]{background-color:#eee;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGNpcmNsZSBjeD0iMTEiIGN5PSIxMSIgcj0iOCIvPjxwYXRoIGQ9Im0yMSAyMS00LTQiLz48L3N2Zz4=);background-position:12px;background-repeat:no-repeat;border-radius:8px;box-sizing:border-box;flex:1;font-size:16px;line-height:1.5;padding:12px 12px 12px 48px;position:relative;width:100%}","",{version:3,sources:["webpack://./resources/js/components/Products.vue"],names:[],mappings:"AAgEA,+BACI,qBAAsB,CACtB,4UAA6U,CAC7U,wBAAyB,CACzB,2BAA4B,CAC5B,iBAAkB,CAClB,qBAAsB,CACtB,MAAO,CACP,cAAe,CACf,eAAgB,CAChB,2BAA4B,CAC5B,iBAAkB,CAClB,UACJ",sourcesContent:['<template>\n    \x3c!-- Product Modal --\x3e\n    <product-modal v-if="selectedProduct" :product="selectedProduct" @close="selectedProduct = null"></product-modal>\n\n    <div class="mb-5">\n        <b-form-input class="search-input" size="lg" placeholder="Search..." v-model="searchTerm"></b-form-input>\n    </div>\n\n    \x3c!-- Search Bar --\x3e\n    <div class="row">\n        <div v-for="product in filteredProducts" :key="product" class="col-sm-6 col-xl-4">\n            <b-card\n                :img-src="product.image"\n                :img-alt="product.name"\n                role="button"\n                img-height="130"\n                class="mb-4"\n                @click="showProduct(product)"\n            >\n                <h6>{{ product.name }}</h6>\n                <h6 class="mb-0">JOD {{ product.price }}</h6>\n            </b-card>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ProductModal from \'@components/ProductModal\';\n\nexport default {\n    components: {\n        ProductModal\n    },\n\n    data() {\n        return {\n            products: [],\n            searchTerm: \'\',\n            selectedProduct: null\n        };\n    },\n\n    computed: {\n        filteredProducts() {\n            return this.products.filter(product => {\n                return product.name.toLowerCase().indexOf(this.searchTerm.toLowerCase()) !== -1;\n            });\n        }\n    },\n\n    methods: {\n        showProduct(product) {\n            this.selectedProduct = product;\n        }\n    },\n\n    async created() {\n        const {data: products} = await axios.get(\'/api/products\');\n        this.products = products;\n    }\n}\n<\/script>\n\n<style scoped>\n.search-input {\n    background-color: #eee;\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGNpcmNsZSBjeD0iMTEiIGN5PSIxMSIgcj0iOCIvPjxwYXRoIGQ9Im0yMSAyMS00LTQiLz48L3N2Zz4=);\n    background-position: 12px;\n    background-repeat: no-repeat;\n    border-radius: 8px;\n    box-sizing: border-box;\n    flex: 1;\n    font-size: 16px;\n    line-height: 1.5;\n    padding: 12px 12px 12px 48px;\n    position: relative;\n    width: 100%;\n}\n</style>\n'],sourceRoot:""}]);const a=c},3194:(e,n,t)=>{t.r(n),t.d(n,{default:()=>we});var r=t(821),s={class:"row p-5"},o={class:"col-lg-6 col-xl-5 mb-5"},c={class:"col-lg-6 col-xl-7 ps-4"};var a={class:"mb-5"},i={class:"row"},d={class:"mb-0"};var l=t(7757),u=t.n(l),p={class:"modal"},m={class:"modal-dialog modal-lg"},b={class:"modal-content"},f={class:"modal-body"},v={class:"text-end mb-4"},g={class:"row px-3 pb-4"},h={class:"col-lg-5 mb-sm-4 mb-lg-0"},y=["src"],x={class:"col-lg-7 ps-4"},w={class:"mb-4"},C={class:"mb-5"},A={class:"d-flex"},k={class:"input-group me-4",style:{width:"30%"}},O=(0,r._)("i",{class:"fas fa-minus"},null,-1),P=(0,r._)("i",{class:"fas fa-plus"},null,-1),_=(0,r._)("i",{class:"fas fa-plus"},null,-1),B=(0,r.Uk)("  Add To Order ");var I=t(3907);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){E(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const M={props:["product"],data:function(){return{qty:1}},methods:D(D({},(0,I.OI)({addItem:"order/ADD_PRODUCT"})),{},{decrementQty:function(){1!==this.qty&&this.qty--},addToOrder:function(){this.addItem({product:this.product,qty:this.qty}),this.$emit("close")}})};var S=t(3379),z=t.n(S),Z=t(3707),T={insert:"head",singleton:!1};z()(Z.Z,T);Z.Z.locals;var R=t(3744);function q(e,n,t,r,s,o,c){try{var a=e[o](c),i=a.value}catch(e){return void t(e)}a.done?n(i):Promise.resolve(i).then(r,s)}const J={components:{ProductModal:(0,R.Z)(M,[["render",function(e,n,t,s,o,c){var a=(0,r.up)("b-button");return(0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("div",m,[(0,r._)("div",b,[(0,r._)("div",f,[(0,r._)("div",v,[(0,r._)("button",{class:"btn-close",onClick:n[0]||(n[0]=function(n){return e.$emit("close")})})]),(0,r._)("div",g,[(0,r._)("div",h,[(0,r._)("img",{class:"img-fluid",src:t.product.image,alt:"product.name"},null,8,y)]),(0,r._)("div",x,[(0,r._)("h3",null,(0,r.zw)(t.product.name),1),(0,r._)("h5",w,(0,r.zw)(t.product.price)+" JOD",1),(0,r._)("p",C,(0,r.zw)(t.product.description),1),(0,r._)("div",A,[(0,r._)("div",k,[(0,r.Wm)(a,{size:"sm",class:"input-group-text",variant:"secondary",onClick:c.decrementQty},{default:(0,r.w5)((function(){return[O]})),_:1},8,["onClick"]),(0,r.wy)((0,r._)("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=function(e){return o.qty=e}),class:"form-control"},null,512),[[r.nr,o.qty]]),(0,r.Wm)(a,{size:"sm",class:"input-group-text",variant:"secondary",onClick:n[2]||(n[2]=function(e){return o.qty++})},{default:(0,r.w5)((function(){return[P]})),_:1})]),(0,r._)("div",null,[(0,r.Wm)(a,{variant:"primary",onClick:c.addToOrder},{default:(0,r.w5)((function(){return[_,B]})),_:1},8,["onClick"])])])])])])])])])}]])},data:function(){return{products:[],searchTerm:"",selectedProduct:null}},computed:{filteredProducts:function(){var e=this;return this.products.filter((function(n){return-1!==n.name.toLowerCase().indexOf(e.searchTerm.toLowerCase())}))}},methods:{showProduct:function(e){this.selectedProduct=e}},created:function(){var e,n=this;return(e=u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/api/products");case 2:t=e.sent,r=t.data,n.products=r;case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,s){var o=e.apply(n,t);function c(e){q(o,r,s,c,a,"next",e)}function a(e){q(o,r,s,c,a,"throw",e)}c(void 0)}))})()}};var L=t(8690),N={insert:"head",singleton:!1};z()(L.Z,N);L.Z.locals;const U=(0,R.Z)(J,[["render",function(e,n,t,s,o,c){var l=(0,r.up)("product-modal"),u=(0,r.up)("b-form-input"),p=(0,r.up)("b-card");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o.selectedProduct?((0,r.wg)(),(0,r.j4)(l,{key:0,product:o.selectedProduct,onClose:n[0]||(n[0]=function(e){return o.selectedProduct=null})},null,8,["product"])):(0,r.kq)("",!0),(0,r._)("div",a,[(0,r.Wm)(u,{class:"search-input",size:"lg",placeholder:"Search...",modelValue:o.searchTerm,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.searchTerm=e})},null,8,["modelValue"])]),(0,r._)("div",i,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.filteredProducts,(function(e){return(0,r.wg)(),(0,r.iD)("div",{key:e,class:"col-sm-6 col-xl-4"},[(0,r.Wm)(p,{"img-src":e.image,"img-alt":e.name,role:"button","img-height":"130",class:"mb-4",onClick:function(n){return c.showProduct(e)}},{default:(0,r.w5)((function(){return[(0,r._)("h6",null,(0,r.zw)(e.name),1),(0,r._)("h6",d,"JOD "+(0,r.zw)(e.price),1)]})),_:2},1032,["img-src","img-alt","onClick"])])})),128))])],64)}],["__scopeId","data-v-e45f8638"]]);var W=function(e){return(0,r.dD)("data-v-751f89d4"),e=e(),(0,r.Cn)(),e},V={key:0,class:"alert alert-success d-flex justify-content-between",role:"alert"},H=W((function(){return(0,r._)("i",{class:"fas fa-check-circle fa-lg me-2"},null,-1)})),G={key:1,class:"alert alert-danger d-flex justify-content-between",role:"alert"},Y=W((function(){return(0,r._)("label",{class:"mb-1"},"Customer",-1)})),Q={class:"d-flex flex-column order-summary"},F=W((function(){return(0,r._)("div",{class:"px-4 py-3 order-summary-title"},[(0,r._)("h3",{class:"mb-0"},"Order Summary")],-1)})),K={key:0,class:"d-flex align-items-center justify-content-center",style:{height:"500px"}},$=[W((function(){return(0,r._)("h4",{class:"fw-bold"},"No products added.",-1)}))],X={key:1,class:"order-items p-4",style:{height:"500px",overflow:"auto"}},ee=["onClick"],ne=[W((function(){return(0,r._)("i",{class:"fas fa-minus-circle text-danger"},null,-1)}))],te={class:"ms-4"},re={class:"mb-0"},se={class:"remove-item ms-auto"},oe={class:"mt-auto"},ce={class:"d-flex justify-content-between px-4 py-3 mb-4 order-total"},ae=W((function(){return(0,r._)("h4",{class:"mb-0"},"Total",-1)})),ie={class:"mb-0"},de={class:"d-flex justify-content-between p-4 order-controls"},le=(0,r.Uk)("Cancel Order "),ue=(0,r.Uk)("Place Order ");function pe(e,n,t,r,s,o,c){try{var a=e[o](c),i=a.value}catch(e){return void t(e)}a.done?n(i):Promise.resolve(i).then(r,s)}function me(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var o=e.apply(n,t);function c(e){pe(o,r,s,c,a,"next",e)}function a(e){pe(o,r,s,c,a,"throw",e)}c(void 0)}))}}function be(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?be(Object(t),!0).forEach((function(n){ve(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const ge={data:function(){return{customers:[],selectedCustomer:null,loading:!1,successMessage:null,validationErrors:[]}},computed:fe({},(0,I.Se)({order:"order/order"})),watch:{customers:function(e){this.selectedCustomer=e.find((function(e){return e.default})).id}},methods:fe(fe(fe({},(0,I.OI)({removeProduct:"order/REMOVE_PRODUCT",clearOrder:"order/CLEAR_ORDER"})),(0,I.nv)({placeOrder:"order/placeOrder"})),{},{submitOrder:function(){var e=this;return me(u().mark((function n(){var t,r,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,e.successMessage=null,e.validationErrors=[],n.prev=3,n.next=6,e.placeOrder(e.selectedCustomer);case 6:t=n.sent,r=t.data.message,e.clearOrder(),e.successMessage=r,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),s=n.t0.response.data.errors,Object.values(s).forEach((function(n){e.validationErrors.push(n.pop())}));case 16:return n.prev=16,e.loading=!1,window.scrollTo({top:0,behavior:"smooth"}),n.finish(16);case 20:case"end":return n.stop()}}),n,null,[[3,12,16,20]])})))()},notLastIndex:function(e){return e!==this.order.products.length-1}}),created:function(){var e=this;return me(u().mark((function n(){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.get("/api/customers");case 2:t=n.sent,r=t.data,e.customers=r;case 5:case"end":return n.stop()}}),n)})))()}};var he=t(6834),ye={insert:"head",singleton:!1};z()(he.Z,ye);he.Z.locals;const xe={components:{Products:U,OrderSummary:(0,R.Z)(ge,[["render",function(e,n,t,s,o,c){var a=(0,r.up)("b-form-select"),i=(0,r.up)("b-card"),d=(0,r.up)("b-img"),l=(0,r.up)("b-button"),u=(0,r.up)("b-overlay");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o.successMessage?((0,r.wg)(),(0,r.iD)("div",V,[(0,r._)("div",null,[H,(0,r.Uk)(" "+(0,r.zw)(o.successMessage),1)]),(0,r._)("button",{type:"button",class:"btn-close",onClick:n[0]||(n[0]=function(e){return o.successMessage=null})})])):(0,r.kq)("",!0),o.validationErrors.length?((0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.validationErrors,(function(e,n){return(0,r.wg)(),(0,r.iD)("li",{key:n},(0,r.zw)(e),1)})),128))]),(0,r._)("button",{type:"button",class:"btn-close",onClick:n[1]||(n[1]=function(e){return o.validationErrors=[]})})])):(0,r.kq)("",!0),(0,r.Wm)(i,{class:"mb-3"},{default:(0,r.w5)((function(){return[Y,(0,r.Wm)(a,{modelValue:o.selectedCustomer,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.selectedCustomer=e}),options:o.customers,class:"mb-3","value-field":"id","text-field":"name"},null,8,["modelValue","options"])]})),_:1}),(0,r.Wm)(u,{show:o.loading,rounded:"sm"},{default:(0,r.w5)((function(){return[(0,r._)("div",Q,[F,e.order.products.length?((0,r.wg)(),(0,r.iD)("div",X,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.order.products,(function(n,t){return(0,r.wg)(),(0,r.iD)("div",{key:n.id,class:(0,r.C_)(["d-flex justify-content-between align-items-center py-3",{"order-item":c.notLastIndex(t)}])},[(0,r._)("button",{class:"me-3 btn-lg remove-product",onClick:function(t){return e.removeProduct(n)}},ne,8,ee),(0,r._)("div",null,[(0,r.Wm)(d,{src:n.image,height:"60",width:"80"},null,8,["src"])]),(0,r._)("div",te,[(0,r._)("p",re,[(0,r._)("strong",null,(0,r.zw)(n.qty),1),(0,r.Uk)(" x "+(0,r.zw)(n.name),1)])]),(0,r._)("div",se,[(0,r._)("strong",null,"JOD "+(0,r.zw)(n.subTotal.toFixed(2)),1)])],2)})),128))])):((0,r.wg)(),(0,r.iD)("div",K,$)),(0,r._)("div",oe,[(0,r._)("div",ce,[ae,(0,r._)("h4",ie,"JOD "+(0,r.zw)(e.order.total),1)]),(0,r._)("div",de,[(0,r.Wm)(l,{variant:"outline-danger",class:"text-uppercase px-xl-5 py-xl-2",disabled:!e.order.products.length,onClick:e.clearOrder},{default:(0,r.w5)((function(){return[le]})),_:1},8,["disabled","onClick"]),(0,r.Wm)(l,{variant:"success",class:"text-uppercase px-xl-5 py-xl-2",disabled:!e.order.products.length,onClick:c.submitOrder},{default:(0,r.w5)((function(){return[ue]})),_:1},8,["disabled","onClick"])])])])]})),_:1},8,["show"])],64)}],["__scopeId","data-v-751f89d4"]])}},we=(0,R.Z)(xe,[["render",function(e,n,t,a,i,d){var l=(0,r.up)("order-summary"),u=(0,r.up)("Products");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",o,[(0,r.Wm)(l)]),(0,r._)("div",c,[(0,r.Wm)(u)])])}]])}}]);
//# sourceMappingURL=194.js.map